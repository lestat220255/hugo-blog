<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>开始在ubuntu下工作 | Lester&#39;s Blog</title>
<meta name="keywords" content="ubuntu, 记录">
<meta name="description" content="弄完科学上网和docker系列就差不多可以开工了">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/2018-09-24-%E5%BC%80%E5%A7%8B%E5%9C%A8ubuntu%E4%B8%8B%E5%B7%A5%E4%BD%9C/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/2018-09-24-%E5%BC%80%E5%A7%8B%E5%9C%A8ubuntu%E4%B8%8B%E5%B7%A5%E4%BD%9C/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Lester&#39;s Blog (Alt + H)">Lester&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags" title="Tags/分类">
                    <span>Tags/分类</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/raspberrypi3b-post" title="Pi3B/树莓派3B">
                    <span>Pi3B/树莓派3B</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about" title="About/关于">
                    <span>About/关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      开始在ubuntu下工作
    </h1>
    <div class="post-description">
      弄完科学上网和docker系列就差不多可以开工了
    </div>
    <div class="post-meta"><span title='2018-09-24 22:39:11.923 +0000 UTC'>September 24, 2018</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;224 words

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#%e7%94%b1%e6%9d%a5" aria-label="由来">由来</a></li>
                <li>
                    <a href="#%e5%88%86%e5%8c%ba" aria-label="分区">分区</a></li>
                <li>
                    <a href="#%e7%a7%91%e5%ad%a6%e4%b8%8a%e7%bd%91" aria-label="科学上网">科学上网</a></li>
                <li>
                    <a href="#docker%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83" aria-label="docker开发环境">docker开发环境</a></li>
                <li>
                    <a href="#%e5%b7%a5%e5%85%b7%e6%8e%a8%e8%8d%90" aria-label="工具推荐">工具推荐</a><ul>
                        
                <li>
                    <a href="#terminal%e6%89%a9%e5%b1%95" aria-label="terminal扩展">terminal扩展</a></li>
                <li>
                    <a href="#%e7%a4%be%e4%ba%a4" aria-label="社交">社交</a></li>
                <li>
                    <a href="#%e7%a7%91%e5%ad%a6%e4%b8%8a%e7%bd%91-1" aria-label="科学上网">科学上网</a></li>
                <li>
                    <a href="#%e5%bc%80%e5%8f%91%e5%b7%a5%e5%85%b7" aria-label="开发工具">开发工具</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96" aria-label="其他">其他</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%85%b3%e9%97%ad%e7%a8%8b%e5%ba%8f%e5%b4%a9%e6%ba%83%e6%8a%a5%e5%91%8a" aria-label="关闭程序崩溃报告">关闭程序崩溃报告</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85%e4%b8%bb%e9%a2%98%e7%ae%a1%e7%90%86" aria-label="安装主题管理">安装主题管理</a></li>
                <li>
                    <a href="#%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83%e4%b8%80%e9%94%ae%e5%90%af%e5%8a%a8" aria-label="开发环境一键启动">开发环境一键启动</a></li>
                <li>
                    <a href="#%e6%9c%80%e5%90%8e%e5%86%8d%e5%ae%89%e5%88%a9%e4%b8%80%e4%b8%aa%e4%b8%bb%e9%a2%98%e7%b3%bb%e5%88%97" aria-label="最后再安利一个主题系列">最后再安利一个主题系列</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="由来">由来<a hidden class="anchor" aria-hidden="true" href="#由来">#</a></h2>
<p>家里的PC机有几个月没用了,昨天刚开机,发现SSD识别不了,经过排查,确定是盘坏了,然后只能重装<br>
之前用的win10做开发环境,但是觉得windows还是更适合作为游戏机存在,家里又有台MBP,因此考虑到没怎么用过linux桌面版的情况,决定感受下ubuntu</p>
<h2 id="分区">分区<a hidden class="anchor" aria-hidden="true" href="#分区">#</a></h2>
<p>PC配置是12GB内存,硬盘是1T+5T,1T的硬盘装数据装得差不多了,5T的还有4个T没分区,因此直接装在了5T这个盘上,200G挂载在<code>/</code>目录,100G挂载在<code>/home</code>目录,14G分到<code>SWAP</code>交换分区,500M分到<code>EFI</code>启动分区,BIOS中进行了UEFI启动配置</p>
<h2 id="科学上网">科学上网<a hidden class="anchor" aria-hidden="true" href="#科学上网">#</a></h2>
<p>linux下面的科学上网相比于windows,darwin,android,ios系统相对繁琐,首先安装好ss,开启ss后配置系统代理到ss中的本地端口<br>
如果要实现浏览器根据GFWList规则上网,以chrome来说,需要下载一个插件:<a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=zh-CN">SwitchyOmega</a>,并按照<a href="https://github.com/FelisCatus/SwitchyOmega/wiki/GFWList">流程</a>配置<br>
如果要实现terminal科学上网,则需要安装<code>proxychains</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo apt-get install proxychains
</span></span></code></pre></div><p>编辑配置文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir -p /home/lestat/.proxychains/
</span></span><span style="display:flex;"><span>sudo vim ~/.proxychains/proxychains.conf
</span></span></code></pre></div><p>如下配置(协议,ip,端口根据实际情况配置)</p>
<pre tabindex="0"><code>strict_chain
proxy_dns
remote_dns_subnet 224
tcp_read_time_out 15000
tcp_connect_time_out 8000
localnet 127.0.0.0/255.0.0.0
quiet_mode
[ProxyList]
socks5 127.0.0.1 1080
</code></pre><p>之后在需要ss的命令前加<code>proxychains</code>,如:</p>
<pre tabindex="0"><code>sudo proxychains git clone https://github.com/lestat220255/docker-lnmp.git
</code></pre><h2 id="docker开发环境">docker开发环境<a hidden class="anchor" aria-hidden="true" href="#docker开发环境">#</a></h2>
<p>在安装完<code>docker</code>和<code>docker-compose</code>之后,使用我之前写的<a href="https://github.com/lestat220255/docker-lnmp">脚本</a>,快速搭建docker+nginx+php+mysql+redis的开发环境,同时支持各种服务的多版本并存,后期开发非常方便,摆脱了集成环境的同类服务只能运行一个版本的约束</p>
<pre tabindex="0"><code>sudo proxychains git clone https://github.com/lestat220255/docker-lnmp.git
cd docker-lnmp &amp;&amp; chmod u+x ./init.sh &amp;&amp; ./init.sh
</code></pre><h2 id="工具推荐">工具推荐<a hidden class="anchor" aria-hidden="true" href="#工具推荐">#</a></h2>
<h3 id="terminal扩展">terminal扩展<a hidden class="anchor" aria-hidden="true" href="#terminal扩展">#</a></h3>
<ol>
<li>proxychains</li>
<li>git</li>
<li>npm相关</li>
<li>docker相关</li>
<li>ntfs-3g(用于挂在windows ntfs分区的工具,如果电脑是双系统,强烈推荐)</li>
<li>rdesktop(连接windows server)</li>
<li>OhMyZsh</li>
<li>tldr</li>
<li>htop(top加强版)</li>
</ol>
<h3 id="社交">社交<a hidden class="anchor" aria-hidden="true" href="#社交">#</a></h3>
<ol>
<li>telegram(推荐安装一个chrome/firefox插件更方便使用)</li>
<li>网页版微信</li>
</ol>
<h3 id="科学上网-1">科学上网<a hidden class="anchor" aria-hidden="true" href="#科学上网-1">#</a></h3>
<ol>
<li>shadowsocks-qt5</li>
<li>proxychains(terminal)</li>
<li>SwitchyOmega(用于浏览器上根据GFWList自动切换系统代理或是直连)</li>
</ol>
<h3 id="开发工具">开发工具<a hidden class="anchor" aria-hidden="true" href="#开发工具">#</a></h3>
<ol>
<li>vscode(简直不能更好用&hellip;)</li>
<li>phpstorm(2018.1.6)更新的版本无法使用之前的激活服务器</li>
<li>pycharm(个人版,免费)</li>
<li>postman</li>
</ol>
<h3 id="其他">其他<a hidden class="anchor" aria-hidden="true" href="#其他">#</a></h3>
<ol>
<li>搜狗拼音</li>
<li>坚果云</li>
<li>FileZilla</li>
<li>Wps</li>
<li>vps网速测试<code>wget -qO- git.io/superbench.sh | bash</code></li>
<li>frp(内网穿透,可以用于开发测试,接收支付回调)</li>
</ol>
<h2 id="关闭程序崩溃报告">关闭程序崩溃报告<a hidden class="anchor" aria-hidden="true" href="#关闭程序崩溃报告">#</a></h2>
<ul>
<li>查看当前有哪些程序的崩溃记录<br>
<code>ls /var/crash</code></li>
<li>直接删除它们,但后续如果有类似报告依然会提示<br>
<code>sudo rm /var/crash/*</code></li>
<li>修改配置为0即可禁用报告(彻底解决问题)<br>
<code>vim /etc/default/apport</code><br>
Change the enabled=1 to enabled=0. Save and close the file. You won’t see any pop up for crash reports after doing this. Obvious to point out that if you want to enable the crash reports again, you just need to change the same file and put enabled as 1 again
<a href="https://itsfoss.com/how-to-fix-system-program-problem-detected-ubuntu/">参考原网址</a></li>
</ul>
<h2 id="安装主题管理">安装主题管理<a hidden class="anchor" aria-hidden="true" href="#安装主题管理">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo apt-get install unity-tweak-tool
</span></span><span style="display:flex;"><span>sudo apt-get install notify-osd <span style="color:#f92672">&amp;&amp;</span> sudo apt-get install overlay-scrollbar
</span></span><span style="display:flex;"><span>nohup unity-tweak-tool&gt;/dev/null 2&gt;&amp;<span style="color:#ae81ff">1</span> &amp;
</span></span></code></pre></div><p><a href="https://www.gnome-look.org/">一站式搞定theme,icon,dock</a></p>
<h2 id="开发环境一键启动">开发环境一键启动<a hidden class="anchor" aria-hidden="true" href="#开发环境一键启动">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/zsh
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">#此处使用zsh代替bash执行指令</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#home目录位置</span>
</span></span><span style="display:flex;"><span>HOME<span style="color:#f92672">=</span>/home/username
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#打开ss&amp;&amp;启动开发环境&amp;&amp;打开phpstorm</span>
</span></span><span style="display:flex;"><span>nohup $HOME/Downloads/Shadowsocks-version.AppImage&gt;/dev/null 2&gt;&amp;<span style="color:#ae81ff">1</span> &amp;
</span></span><span style="display:flex;"><span>cd $HOME/work <span style="color:#f92672">&amp;&amp;</span> sudo -S docker-compose up -d  <span style="color:#e6db74">&lt;&lt; EOF 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">password
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>cd $HOME/PhpStorm-version/bin <span style="color:#f92672">&amp;&amp;</span> nohup ./phpstorm.sh&gt;/dev/null 2&gt;&amp;<span style="color:#ae81ff">1</span> &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#打开frp代理</span>
</span></span><span style="display:flex;"><span>nohup $HOME/frp/frpc -c $HOME/frp/frpc.ini&gt;/dev/null &amp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#挂载windowsF盘到当前系统/mnt/windows_D</span>
</span></span><span style="display:flex;"><span>sudo -S ntfs-3g /dev/sdb2 /mnt/windows_D <span style="color:#e6db74">&lt;&lt; EOF 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">password
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span></code></pre></div><h2 id="最后再安利一个主题系列">最后再安利一个主题系列<a hidden class="anchor" aria-hidden="true" href="#最后再安利一个主题系列">#</a></h2>
<p><a href="https://draculatheme.com/">draculatheme</a>暗黑系主题,支持多种主流编辑器,以及上面安装的zsh,个人很喜欢这个风格</p>
<pre tabindex="0"><code>Hasta la vista
</code></pre>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/ubuntu/">Ubuntu</a></li>
      <li><a href="http://localhost:1313/tags/%E8%AE%B0%E5%BD%95/">记录</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/2018-09-27-ssh%E5%85%AC%E9%92%A5%E7%99%BB%E5%BD%95/">
    <span class="title">« Prev</span>
    <br>
    <span>ssh公钥登录</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/2018-09-21-docker%E5%AE%89%E8%A3%85php7.2%E8%AE%B0%E5%BD%95/">
    <span class="title">Next »</span>
    <br>
    <span>docker安装php7.2记录</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Lester&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
